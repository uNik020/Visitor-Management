<div class="list-container">
  <h2>Visitor List</h2>

  <div class="controls">
    <input type="text" placeholder="Search by name..." [(ngModel)]="searchQuery" />

    <button class="icon-btn" title="Sort">
      <i class="fas fa-sort"></i>
    </button>
    <button class="icon-btn" title="Filter">
      <i class="fas fa-filter"></i>
    </button>
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Host</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let visitor of filteredVisitors">
          <td>{{ visitor.name }}</td>
          <td>{{ visitor.email }}</td>
          <td>{{ visitor.host }}</td>
          <td>{{ visitor.status }}</td>
          <td class="actions">
            <button class="btn-view" (click)="onView(visitor)">View</button>
            <button class="btn-edit" (click)="onEdit(visitor)">Edit</button>
            <button class="btn-delete" (click)="onDelete(visitor)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Edit Popup Modal -->
<div class="edit-modal" *ngIf="editingVisitor">
  <div class="edit-modal-content">
    <h3>Edit Visitor</h3>
    <form (ngSubmit)="saveVisitor()" #editForm="ngForm">
      <label>
        Name:
        <input type="text" [(ngModel)]="editingVisitor.name" name="name" required />
      </label>

      <label>
        Email:
        <input type="email" [(ngModel)]="editingVisitor.email" name="email" required />
      </label>

      <label>
        Host:
        <input type="text" [(ngModel)]="editingVisitor.host" name="host" required />
      </label>

      <label>
        Status:
        <select [(ngModel)]="editingVisitor.status" name="status" required>
          <option>Inside</option>
          <option>Checked Out</option>
        </select>
      </label>

      <div class="modal-actions">
        <button type="submit" class="btn-save">Save Changes</button>
        <button type="button" class="btn-cancel" (click)="cancelEdit()">Cancel</button>
      </div>
    </form>
  </div>
</div>

</div>
